{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAIAD,EAAAE,OAAOC,KAAK,CAAEC,SAAS,IAEvB,IAAMC,EAAaC,SAASC,cAAc,CAAC,iBACrCC,EAAYF,SAASC,cAAc,CAAC,gBACpCE,EAAcH,SAASC,cAAc,CAAC,kBACtCG,EAAYJ,SAASC,cAAc,UAEzC,SAASI,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACaC,KAAKC,SAAW,GAGpCJ,EAAQ,uBAAwCK,OAAfR,EAAS,QAAYQ,OAANP,EAAM,OAEpDG,EAAK,sBAAuCI,OAAfR,EAAS,QAAYQ,OAANP,EAAM,OAGlDD,IAAaS,SAASZ,EAAYa,SACpCZ,EAAUa,UAAW,E,GAEtBV,E,IA8CPH,EAAUc,iBAAiB,SA1CL,SAAAC,GAGpB,GAFAA,EAAMC,iBAGkB,KAAtBjB,EAAYa,OACS,KAArBjB,EAAWiB,OACS,KAApBd,EAAUc,MAMZ,GACED,SAASZ,EAAYa,OAAS,GAC9BD,SAAShB,EAAWiB,OAAS,GAC7BD,SAASb,EAAUc,OAAS,EAE5BtB,EAAAE,OAAOyB,QAAQ,wCAIjB,GAAoC,IAAhCN,SAASZ,EAAYa,OAAzB,CAKAZ,EAAUa,UAAW,EAErB,IAAK,IAAIK,EAAI,EAAGA,EAAIP,SAASZ,EAAYa,OAAQM,IAAK,CAIpDjB,EAHiBiB,EAAI,EACPP,SAAShB,EAAWiB,OAASd,EAAUc,MAAQM,GAG1DC,MAAK,SAAAd,GACJf,EAAAE,OAAO4B,QAAQf,E,IAEhBgB,OAAM,SAAAf,GACLhB,EAAAE,OAAOyB,QAAQX,E,UAfnBhB,EAAAE,OAAOyB,QAAQ,2CAdf3B,EAAAE,OAAOyB,QAAQ,8B","sources":["src/js/03-promises.js"],"sourcesContent":["'use strict';\n\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nNotify.init({ useIcon: false });\n\nconst inputDelay = document.querySelector(['[name=delay]']);\nconst inputStep = document.querySelector(['[name=step]']);\nconst inputAmount = document.querySelector(['[name=amount]']);\nconst submitBtn = document.querySelector('button');\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      const shouldResolve = Math.random() > 0.3;\n\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n\n      if (position === parseInt(inputAmount.value)) {\n        submitBtn.disabled = false;\n      }\n    }, delay);\n  });\n}\n\nconst submitPromise = event => {\n  event.preventDefault();\n\n  if (\n    inputAmount.value === '' ||\n    inputDelay.value === '' ||\n    inputStep.value === ''\n  ) {\n    Notify.failure('❌ All fields must be filled');\n    return;\n  }\n\n  if (\n    parseInt(inputAmount.value) < 0 ||\n    parseInt(inputDelay.value) < 0 ||\n    parseInt(inputStep.value) < 0\n  ) {\n    Notify.failure('❌ A value could not be negative');\n    return;\n  }\n\n  if (parseInt(inputAmount.value) === 0) {\n    Notify.failure('❌ An amount must be greater than 0');\n    return;\n  }\n\n  submitBtn.disabled = true;\n\n  for (let i = 0; i < parseInt(inputAmount.value); i++) {\n    const position = i + 1;\n    const delay = parseInt(inputDelay.value) + inputStep.value * i;\n\n    createPromise(position, delay)\n      .then(resolve => {\n        Notify.success(resolve);\n      })\n      .catch(reject => {\n        Notify.failure(reject);\n      });\n  }\n};\n\nsubmitBtn.addEventListener('click', submitPromise);\n"],"names":["$h6c0i","parcelRequire","Notify","init","useIcon","$ce04d3a99e08e73b$var$inputDelay","document","querySelector","$ce04d3a99e08e73b$var$inputStep","$ce04d3a99e08e73b$var$inputAmount","$ce04d3a99e08e73b$var$submitBtn","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","setTimeout","Math","random","concat","parseInt","value","disabled","addEventListener","event","preventDefault","failure","i","then","success","catch"],"version":3,"file":"03-promises.16a0cb37.js.map"}